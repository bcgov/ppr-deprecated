openapi: 3.0.0
info:
  title: Personal Property Registry API
  version: '1.0'
  description: 'The Personal Property Registry (PPR) is a centralised, electronic register where details of security interests in personal property can be registered and searched. The PPR API provides a real-time, secure, direct link between your business systems and the PPR. You can conduct most PPR transactions, including searches, registrations, renewals, amendments and discharges, directly using these APIs.'
  contact:
    name: BC Registries
servers:
  - url: 'http://localhost:3100'
    description: Mock
  - url: 'https://ppr-api-dev.pathfinder.gov.bc.ca'
    description: Development
  - url: 'https://ppr-api-test.pathfinder.gov.bc.ca'
    description: Test
  - url: 'https://ppr-api.pathfinder.gov.bc.ca'
    description: Production
paths:
  /searches:
    get:
      summary: List previously submitted searches
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/search'
              examples: {}
      operationId: get-searches
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The current account represented by the user.
          required: true
      security:
        - JWT: []
      description: Used by a presentation layer to show previously submitted search critera.
    post:
      summary: 'Submit a new PPR search request '
      tags:
        - Search
      responses:
        '201':
          description: Created
          headers: {}
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/search'
              examples:
                Search Response:
                  value:
                    ref: /searches/95110d7f-91ce-47f2-a996-76e2dddc3cf7
                    type: SERIAL_NUMBER
                    criteria:
                      value: '1234'
                    results: /searches/95110d7f-91ce-47f2-a996-76e2dddc3cf7/results
                    searchDateTime: '2020-01-02T21:57:00Z'
                    payment:
                      id: 1234
                      status: CREATED
                      method: CC
            application/xml:
              schema:
                type: object
                properties: {}
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      operationId: post-search
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/search'
            examples:
              Search by Serial Number:
                value:
                  type: SERIAL_NUMBER
                  criteria:
                    value: '1234'
              Search by Registration Number:
                value:
                  type: REGISTRATION_NUMBER
                  criteria:
                    value: 123456B
              Search by Debtor Name:
                value:
                  type: INDIVIDUAL_DEBTOR
                  criteria:
                    debtorName:
                      first: Homer
                      second: Jay
                      last: Simpson
      description: Initiates a new search transaction and will return a reference that can be used to review the results.
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
  '/searches/{searchId}':
    get:
      summary: View the details for an individual search
      tags:
        - Search
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/search'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      operationId: get-search-for-id
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
      description: Used by the presentation layer to show search criteria submitted to the system.
    parameters:
      - schema:
          type: string
        name: searchId
        in: path
        required: true
        description: 'The value of the search response id value.  If an invalid searchId is submitted then [404].'
  '/financing-statements/{financingStatementId}':
    parameters:
      - schema:
          type: string
        name: financingStatementId
        in: path
        required: true
        description: 'A base registration number that is valid and not expired. If {financingStatementId} is not found, then [404].'
    get:
      summary: View a financing statement
      tags:
        - Financing Statement
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/financing-statement'
              examples: {}
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      operationId: get-financing-statement-for-id
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
      description: View a financing statement record.
      security:
        - JWT: []
    delete:
      summary: Discharge a Financing Statement
      operationId: delete-financing-statements-financingStatementId
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      tags:
        - Financing Statement
      description: Discharge a financing statement record.
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
  '/searches/{searchId}/results':
    parameters:
      - schema:
          type: string
        name: searchId
        in: path
        required: true
        description: 'The value of the search response id value.  If an invalid searchId is submitted then [404].'
    get:
      summary: List results for a search
      tags:
        - Search
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/search-result'
              examples:
                Example:
                  value:
                    - id: '1234'
                      selected: true
                      type: EXACT
                      financingStatement:
                        type: SECURITY_AGREEMENT
                        registeringParty:
                          businessName: Name of party
                          address:
                            street: 123 Fake St
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                        securedParties:
                          - businessName: Name of party
                            address:
                              street: 123 Fake St
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                        debtors:
                          - businessName: Debtor Name
                        vehicleCollateral:
                          - type: MOTOR_VEHICLE
                            serial: WDBKK49F81F234840
                            year: 2001
                            make: Mercedes-Benz
                            model: SLK-Class Kompressor
                        generalCollateral:
                          - description: Detailed description of general collateral.
                            addedDateTime: '2020-01-02T21:08:32Z'
                        expiryDate: '2021-01-02'
                        baseRegistrationNumber: '1000123'
                        documentId: D0000123
                        registrationDateTime: '2020-01-02T21:08:32Z'
                        lifeYears: 5
                        payment:
                          id: 1234
                          status: CREATED
                          method: CC
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      operationId: get-search-matches
      description: Display the financing statements that were found after submitting search criteria to the system.
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
    put:
      summary: Select and Deselect Search Results
      operationId: put-searches-searchId-results
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/search-result'
              examples:
                Example:
                  value:
                    - id: '1234'
                      selected: true
                      type: SIMILAR
                      financingStatement:
                        type: SECURITY_AGREEMENT
                        registeringParty:
                          businessName: Name of party
                          address:
                            street: 123 Fake St
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                        securedParties:
                          - businessName: Name of party
                            address:
                              street: 123 Fake St
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                        debtors:
                          - businessName: Debtor Name
                        vehicleCollateral:
                          - type: MOTOR_VEHICLE
                            serial: WDBKK49F81F234840
                            year: 2001
                            make: Mercedes-Benz
                            model: SLK-Class Kompressor
                        generalCollateral:
                          - description: Detailed description of general collateral.
                            addedDateTime: '2020-01-02T21:08:32Z'
                        expiryDate: '2021-01-02'
                        baseRegistrationNumber: '1000123'
                        documentId: D0000123
                        registrationDateTime: '2020-01-02T21:08:32Z'
                        lifeYears: 5
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      tags:
        - Search
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/search-result'
            examples:
              Example:
                value:
                  - id: '1234'
                    selected: true
                    type: SIMILAR
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          required: true
          description: The account that the user is operating on behalf of.
      description: Choose which search results to make available for final delivery of search results to the end user.
  /financing-statements:
    post:
      summary: Create a financing statement
      tags:
        - Financing Statement
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/financing-statement'
              examples:
                New Financing Statement:
                  value:
                    type: SECURITY_AGREEMENT
                    registeringParty:
                      personName:
                        first: Homer
                        last: Simpson
                        middle: Jay
                      address:
                        street: 742 Evergreen Terrace
                        city: Springfield
                        region: BC
                        country: CA
                        postalCode: A1A 1A1
                    securedParties:
                      - businessName: Spacely Sprockets
                        address:
                          street: 123 Fake St
                          streetAdditional: Suite 501
                          city: Jupiter
                          region: BC
                          country: CA
                          postalCode: A1A 1A1
                    debtors:
                      - businessName: My Company Inc
                        address:
                          street: 721 Debtor Ave
                          city: Victoria
                          region: BC
                          country: CA
                          postalCode: A1A 1A1
                        birthdate: '1990-06-15'
                    vehicleCollateral:
                      - type: MOTOR_VEHICLE
                        serial: WDBKK49F81F234840
                        year: 2001
                        make: Mercedes-Benz
                        model: SLK-Class Kompressor
                    generalCollateral:
                      - description: A ride on lawn mower that has a great deal of personal value.
                        addedDateTime: '2020-02-21T18:38:20Z'
                    expiryDate: '2020-02-21'
                    baseRegistrationNumber: 791167G
                    documentId: B5645289
                    registrationDateTime: '2020-02-21T18:38:20Z'
                    lifeYears: 5
                    payment:
                      id: 1234
                      status: CREATED
                      method: CC
        '422':
          description: Unprocessable Entity
      operationId: post-financing-statements
      description: Create (register) a new financing statement.
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/financing-statement'
            examples:
              Register Financing Statement:
                value:
                  type: SECURITY_AGREEMENT
                  registeringParty:
                    personName:
                      first: Homer
                      last: Simpson
                      middle: Jay
                    address:
                      street: 742 Evergreen Terrace
                      city: Springfield
                      region: BC
                      country: CA
                      postalCode: A1A 1A1
                  securedParties:
                    - businessName: Spacely Sprockets
                      address:
                        street: 123 Fake St
                        streetAdditional: Suite 501
                        city: Jupiter
                        region: BC
                        country: CA
                        postalCode: A1A 1A1
                  debtors:
                    - businessName: My Company Inc
                      address:
                        street: 721 Debtor Ave
                        city: Victoria
                        region: BC
                        country: CA
                        postalCode: A1A 1A1
                      birthdate: '1990-06-15'
                  vehicleCollateral:
                    - type: MOTOR_VEHICLE
                      serial: WDBKK49F81F234840
                      year: 2001
                      make: Mercedes-Benz
                      model: SLK-Class Kompressor
                  generalCollateral:
                    - description: A ride on lawn mower that has a great deal of personal value.
                      addedDateTime: '2020-02-21T18:38:20Z'
                  lifeYears: 5
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
    get:
      summary: List Financing Statements
      operationId: get-financing-statements
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/financing-statement'
      description: 'List financing statements, limited to those the user has permission to view.'
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
      tags:
        - Financing Statement
  '/party-codes/{code}':
    parameters:
      - schema:
          type: string
        name: code
        in: path
        required: true
        description: 'The preset party code to lookup. If an invalid code is submitted then [404].'
    get:
      summary: Lookup a Party Code
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    description: PPR Client Code.
                  personName:
                    $ref: '#/components/schemas/individual-name'
                  businessName:
                    type: string
                    description: Legal business name.
                  address:
                    $ref: '#/components/schemas/address'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      operationId: get-party-codes-code
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          required: true
          description: The account that the user is operating on behalf of.
      description: Find the name and address details for a preset party.
  /drafts:
    get:
      summary: List Drafts
      tags:
        - Draft
        - Financing Statement
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/draft'
              examples:
                Example:
                  value:
                    - id: '12345'
                      type: FINANCING_STATEMENT
                    - id: '13579'
                      type: AMENDMENT
      operationId: get-drafts
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
      description: Get a list of your existing drafts of all types.
    post:
      summary: Create a Draft
      operationId: post-drafts
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/draft'
              examples:
                Financing Statement Draft:
                  value:
                    id: '12345'
                    type: FINANCING_STATEMENT
                    content:
                      type: SECURITY_AGREEMENT
                      registeringParty: []
                      securedParties: []
                      debtors:
                        - businessName: My Company Inc
                          address:
                            street: 721 Debtor Ave
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                          birthdate: '1990-06-15'
                      vehicleCollateral:
                        - type: MOTOR_VEHICLE
                          serial: WDBKK49F81F234840
                          year: 2001
                          make: Mercedes-Benz
                          model: SLK-Class Kompressor
                      generalCollateral: null
                      lifeYears: 5
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      description: Create a new draft financing statement or amendment.
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/draft'
            examples:
              Financing Statement Draft:
                value:
                  type: FINANCING_STATEMENT
                  content:
                    type: SECURITY_AGREEMENT
                    registeringParty: []
                    securedParties: []
                    debtors:
                      - businessName: My Company Inc
                        address:
                          street: 721 Debtor Ave
                          city: Victoria
                          region: BC
                          country: CA
                          postalCode: A1A 1A1
                        birthdate: '1990-06-15'
                    vehicleCollateral:
                      - type: MOTOR_VEHICLE
                        serial: WDBKK49F81F234840
                        year: 2001
                        make: Mercedes-Benz
                        model: SLK-Class Kompressor
                    generalCollateral: null
                    lifeYears: 5
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          required: true
          description: The account that the user is operating on behalf of.
      tags:
        - Draft
        - Financing Statement
  '/drafts/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: 'The identifier of the draft record. If an invalid id is submitted then [404].'
    get:
      summary: Your GET endpoint
      tags:
        - Draft
        - Financing Statement
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/draft'
              examples:
                Example:
                  value:
                    id: '12345'
                    type: FINANCING_STATEMENT
                    content:
                      type: SECURITY_AGREEMENT
                      registeringParty: []
                      securedParties: []
                      debtors:
                        - businessName: My Company Inc
                          address:
                            street: 721 Debtor Ave
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                          birthdate: '1990-06-15'
                      vehicleCollateral:
                        - type: MOTOR_VEHICLE
                          serial: WDBKK49F81F234840
                          year: 2001
                          make: Mercedes-Benz
                          model: SLK-Class Kompressor
                      generalCollateral: null
                      lifeYears: 5
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/draft'
      operationId: get-drafts-code
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
      description: Retrieve the contents for an existing draft financing statement or amendment.
    put:
      summary: ''
      operationId: put-drafts-id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/draft'
              examples:
                Example:
                  value:
                    id: '12345'
                    type: FINANCING_STATEMENT
                    content:
                      type: SECURITY_AGREEMENT
                      registeringParty: []
                      securedParties: []
                      debtors:
                        - businessName: My Company Inc
                          address:
                            street: 721 Debtor Ave
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                          birthdate: '1990-06-15'
                      vehicleCollateral:
                        - type: MOTOR_VEHICLE
                          serial: WDBKK49F81F234840
                          year: 2001
                          make: Mercedes-Benz
                          model: SLK-Class Kompressor
                      generalCollateral: null
                      lifeYears: 5
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
      description: Update the contents for an existing draft financing statement or amendment.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/draft'
            examples:
              Example:
                value:
                  id: '12345'
                  type: FINANCING_STATEMENT
                  content:
                    type: SECURITY_AGREEMENT
                    registeringParty: []
                    securedParties: []
                    debtors:
                      - businessName: My Company Inc
                        address:
                          street: 721 Debtor Ave
                          city: Victoria
                          region: BC
                          country: CA
                          postalCode: A1A 1A1
                        birthdate: '1990-06-15'
                    vehicleCollateral:
                      - type: MOTOR_VEHICLE
                        serial: WDBKK49F81F234840
                        year: 2001
                        make: Mercedes-Benz
                        model: SLK-Class Kompressor
                    generalCollateral: null
                    lifeYears: 5
      tags:
        - Draft
        - Financing Statement
    delete:
      summary: Delete Draft
      operationId: delete-drafts-id
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          required: true
          description: The account that the user is operating on behalf of.
      description: Delete an existing draft financing statement or amendment.
      tags:
        - Draft
        - Financing Statement
  '/financing-statements/{financingStatementId}/events':
    parameters:
      - schema:
          type: string
        name: financingStatementId
        in: path
        required: true
        description: 'A base registration number that is valid and not expired. If {financingStatementId} is not found, then [404].'
    get:
      summary: List Financing Statemement Events
      tags:
        - Financing Statement
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/financing-statement-event'
              examples:
                Event History:
                  value:
                    - type: REGISTRATION
                      registrationNumber: '1234567'
                      registrationDateTime: '2020-02-21T18:38:20Z'
                      detailsAdded:
                        type: SECURITY_AGREEMENT
                        lifeYears: 2
                        expiryDate: '2022-02-21'
                        registeringParty:
                          businessName: Mr. Plow
                          address:
                            street: 742 Evergreen Terrace
                            city: Springfield
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                        securedParties:
                          - businessName: Spacely Sprockets
                            address:
                              street: 123 Fake St
                              city: Jupiter
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                        debtors:
                          - businessName: My Company Inc
                            address:
                              street: 721 Debtor Ave
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                            birthdate: '1990-06-15'
                        vehicleCollateral:
                          - type: MOTOR_VEHICLE
                            serial: WDBKK49F81F234840
                            year: 2001
                            make: Mercedes-Benz
                            model: SLK-Class Kompressor
                        generalCollateral: []
                      detailsRemoved: null
                      payment:
                        id: 1234
                        status: CREATED
                        method: CC
                    - type: DEBTOR_TRANSFER
                      registrationNumber: '1235678'
                      registrationDateTime: '2020-09-22T18:30:00Z'
                      detailsAdded:
                        debtors:
                          - businessName: New owner of Collateral
                            address:
                              street: 650 Somewhere Ave
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: V1A 1A1
                            birthdate: null
                      detailsRemoved:
                        debtors:
                          - businessName: My Company Inc
                            address:
                              street: 721 Debtor Ave
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                            birthdate: '1990-06-15'
                      payment:
                        id: 1345
                        status: CREATED
                        method: CC
                    - type: RENEWAL
                      registrationNumber: '1246789'
                      registrationDateTime: '2022-01-31T11:15:00Z'
                      detailsAdded:
                        lifeYears: 5
                        expiryDate: '2027-02-21'
                      detailsRemoved: null
                      payment:
                        id: 2456
                        status: CREATED
                        method: CC
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/financing-statement'
      operationId: get-financing-statements-financingStatementId-events
      description: Get a list of all events for a financing statement.
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
    post:
      summary: Create a Financing Statement Event
      operationId: post-financing-statements-financingStatementId-events
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/financing-statement-event'
              examples:
                Renewal:
                  value:
                    type: RENEWAL
                    registrationNumber: '1246789'
                    registrationDateTime: '2022-01-31T11:15:00Z'
                    detailsAdded:
                      lifeYears: 5
                      expiryDate: '2027-02-21'
                    detailsRemoved: null
                    payment:
                      id: 1234
                      status: CREATED
                      method: CC
                Debtor Transfer:
                  value:
                    type: DEBTOR_TRANSFER
                    registrationNumber: '1235678'
                    registrationDateTime: '2020-09-22T18:30:00Z'
                    detailsAdded:
                      debtors:
                        - businessName: New owner of Collateral
                          address:
                            street: 650 Somewhere Ave
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: V1A 1A1
                          birthdate: null
                    detailsRemoved:
                      debtors:
                        - businessName: My Company Inc
                          address:
                            street: 721 Debtor Ave
                            city: Victoria
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                          birthdate: '1990-06-15'
                    payment:
                      id: 1345
                      status: CREATED
                      method: CC
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          required: true
          description: The account that the user is operating on behalf of.
      description: 'Submit a new event, such as an amendment or renewal, to a financing statement.'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/financing-statement-event'
            examples:
              Debtor Transfer:
                value:
                  type: DEBTOR_TRANSFER
                  detailsAdded:
                    debtors:
                      - businessName: New owner of Collateral
                        address:
                          street: 650 Somewhere Ave
                          city: Victoria
                          region: BC
                          country: CA
                          postalCode: V1A 1A1
                        birthdate: null
                  detailsRemoved:
                    debtors:
                      - businessName: My Company Inc
                        address:
                          street: 721 Debtor Ave
                          city: Victoria
                          region: BC
                          country: CA
                          postalCode: A1A 1A1
                        birthdate: '1990-06-15'
              Renewal:
                value:
                  type: RENEWAL
                  detailsAdded:
                    lifeYears: 5
                  detailsRemoved: null
      tags:
        - Financing Statement
  '/searches/{searchId}/results/{id}/events':
    parameters:
      - schema:
          type: string
        name: searchId
        in: path
        required: true
        description: 'The value of the search response id value.  If an invalid searchId is submitted then [404].'
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: 'The value of the individual search result id value. This is combined with searchId to identify the result. If an invalid id is submitted then [404].'
    get:
      summary: List financing statement events for a Search Result
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/financing-statement-event'
              examples:
                Example:
                  value:
                    - type: REGISTRATION
                      registrationNumber: '1234567'
                      registrationDateTime: '2020-02-21T18:38:20Z'
                      detailsAdded:
                        type: SECURITY_AGREEMENT
                        lifeYears: 2
                        expiryDate: '2022-02-21'
                        registeringParty:
                          businessName: Mr. Plow
                          address:
                            street: 742 Evergreen Terrace
                            city: Springfield
                            region: BC
                            country: CA
                            postalCode: A1A 1A1
                        securedParties:
                          - businessName: Spacely Sprockets
                            address:
                              street: 123 Fake St
                              city: Jupiter
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                        debtors:
                          - businessName: My Company Inc
                            address:
                              street: 721 Debtor Ave
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                            birthdate: '1990-06-15'
                        vehicleCollateral:
                          - type: MOTOR_VEHICLE
                            serial: WDBKK49F81F234840
                            year: 2001
                            make: Mercedes-Benz
                            model: SLK-Class Kompressor
                        generalCollateral: []
                      detailsRemoved: null
                      payment:
                        id: 1234
                        status: CREATED
                        method: CC
                    - type: DEBTOR_TRANSFER
                      registrationNumber: '1235678'
                      registrationDateTime: '2020-09-22T18:30:00Z'
                      detailsAdded:
                        debtors:
                          - businessName: New owner of Collateral
                            address:
                              street: 650 Somewhere Ave
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: V1A 1A1
                            birthdate: null
                      detailsRemoved:
                        debtors:
                          - businessName: My Company Inc
                            address:
                              street: 721 Debtor Ave
                              city: Victoria
                              region: BC
                              country: CA
                              postalCode: A1A 1A1
                            birthdate: '1990-06-15'
                    - type: RENEWAL
                      registrationNumber: '1246789'
                      registrationDateTime: '2022-01-31T11:15:00Z'
                      detailsAdded:
                        lifeYears: 5
                        expiryDate: '2027-02-21'
                      detailsRemoved: null
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      operationId: get-searches-searchId-results-id
      description: Provide a historical list of events for a financing statement
      security:
        - JWT: []
      parameters:
        - schema:
            type: string
          in: header
          name: Account-Id
          description: The account that the user is operating on behalf of.
          required: true
components:
  schemas:
    search:
      title: search
      type: object
      x-examples: {}
      description: The Search parameters.
      properties:
        id:
          type: integer
          description: Unique identifier for the search parameters.
        type:
          type: string
          enum:
            - INDIVIDUAL_DEBTOR
            - BUSINESS_DEBTOR
            - MHR_NUMBER
            - REGISTRATION_NUMBER
            - SERIAL_NUMBER
            - AIRCRAFT_DOT
          description: The type of search that the critera is applied against.
        criteria:
          type: object
          description: The criteria of the search.
          properties:
            value:
              type: string
              description: 'The search string.  Can be the serial number, DOT number, VIN number, etc.'
            debtorName:
              type: object
              description: Information pertaining to Debtor Name.
              properties:
                first:
                  type: string
                  description: First name or Business name of debtor.
                second:
                  type: string
                  description: Second/Middle name of debtor.
                last:
                  type: string
                  description: Last Name of debtor.
        searchDateTime:
          type: string
          format: date-time
          description: The date-time the system successfully completed the search.
        payment:
          $ref: '#/components/schemas/payment'
      required:
        - type
        - criteria
    financing-statement:
      title: financing-statement
      type: object
      description: 'Details of the Financing Statement on file, or to be filed.'
      x-examples: {}
      properties:
        type:
          type: string
          enum:
            - SECURITY_AGREEMENT
            - REPAIRERS_LIEN
            - MFD_HOME_SEPARATION_AGREEMENT
            - MFD_HOME_LAND_TAX_DEFERMENT
            - MFD_HOME_TAX_LIEN
            - SALE_OF_GOODS_ACT_POSSESSION
            - FORESTRY_CONTRACTOR_LIEN
            - FORESTRY_CONTRACTOR_CHARGE
            - FORESTRY_SUBCONTRACTOR_CHARGE
            - MISCELLANEOUS_REGISTRATION
          description: |
            Specifies the type of security agreement.  If incorrect value submitted, then [422].
        registeringParty:
          type: object
          description: This object holds the registering party contact details.
          properties:
            code:
              type: string
              description: "Registering Party's PPR Client Code.  If supplied, name (person or business) and address does not need to be supplied."
            personName:
              $ref: '#/components/schemas/individual-name'
            businessName:
              type: string
              description: Legal business name.
            address:
              $ref: '#/components/schemas/address'
          required:
            - address
        securedParties:
          type: array
          description: This object holds one or more secured party contact details.
          items:
            type: object
            properties:
              code:
                type: string
                description: 'PPR Client Code of the Secured Party.  If supplied, name (person or business) and address does not need to be supplied.'
              personName:
                $ref: '#/components/schemas/individual-name'
              businessName:
                type: string
                description: Legal business name.
              address:
                $ref: '#/components/schemas/address'
            required:
              - address
        debtors:
          type: array
          description: This object holds one or more debtor party contact details.
          items:
            type: object
            properties:
              personName:
                $ref: '#/components/schemas/individual-name'
              businessName:
                type: string
                description: Legal business name of the debtor.
              address:
                $ref: '#/components/schemas/address'
              birthdate:
                type: string
                description: Date of birth in ISO 8601 format
                format: date
            required:
              - address
        vehicleCollateral:
          type: array
          description: Contains information pertaining to the vehicle being used as collateral.
          items:
            type: object
            properties:
              type:
                type: string
                enum:
                  - MOTOR_VEHICLE
                  - BOAT
                  - MANUFACTURED_HOME
                  - OUTBOARD_MOTOR
                  - TRAILER
                  - AIRCRAFT
                  - AIRCRAFT_FRAME
                  - ELECTRIC_VEHICLE
                description: Specify the type of vehicle.
              serial:
                type: string
                description: 'Specify serial number of the vehicle (eg, VIN number, DOT number (if plane registered in Canada), Airframe number if registered outside of Canada, or designated serial number or the collateral. '
              year:
                type: integer
                minimum: 1000
                maximum: 9999
                description: Year of manufacture of the collateral (or model year of a automobile).
              make:
                type: string
                description: "Make of vehicle (or manufacturer's name)."
              model:
                type: string
                description: Model name.
              manufacturedHomeRegNumber:
                type: string
                description: Home registration number assigned by the Manufactured Home Registry.
            required:
              - type
              - serial
        generalCollateral:
          type: array
          description: Contains description of collateral other than a vehicle.
          items:
            type: object
            properties:
              description:
                type: string
                description: 'In accordance to legislative requirements, a description of the collateral.'
              addedDateTime:
                type: string
                format: date-time
                description: The time when this collateral item was registered in the PPR system.
            required:
              - description
        expiryDate:
          type: string
          format: date
          description: 'The date upon which the financing statement will expire, in YYYY-MM-DD format.'
        baseRegistrationNumber:
          type: string
          description: 'The Base Registration Number uniquely identifies a financing statement that is registered in the PPR database. The system assigns the Base Registration Number when the information submitted for registration passes all the system edits and is accepted for registration. You will need to know this number in order to register a change statement, a renewal statement, or a discharge statement. '
        registrationDateTime:
          type: string
          format: date-time
          description: The date when the registration was successfully created.
        lifeYears:
          type: integer
          minimum: 1
          maximum: 25
          description: Life of the registration in years. Must be a value from 1 to 25. Cannot be set when lifeInfinite is true. Cannot be set when type is REPAIRERS_LIEN. Required for other types when lifeInfinite is not true.
        lifeInfinite:
          type: boolean
          description: Set to true if the registration has an infinite life (no expiry date). Cannot be true when lifeYears has a value. Cannot be true when type is REPAIRERS_LIEN. Must be true or lifeYears must have a value for remaining types.
        payment:
          $ref: '#/components/schemas/payment'
      required:
        - type
        - securedParties
        - debtors
    search-result:
      type: object
      description: Provides a link to the financing statement found after a successful search.
      title: ''
      properties:
        type:
          type: string
          enum:
            - EXACT
            - SIMILAR
          description: |-
            Exact matches are used when searching by Serial Number, Manufactured Home Registration Number, Aircarft DOT number, or Debtor name.
            Similar matches are used when searching by Serial Number, Manufactured Home Registration Number and Aircraft DOT number.
        financingStatement:
          $ref: '#/components/schemas/financing-statement'
        selected:
          type: boolean
          description: 'Whether this item is selected fro delivery in the final search results. Default is false when type is "SIMILAR". Must be true when type is "EXACT".'
        id:
          type: string
      required:
        - selected
        - id
    error:
      title: error
      type: object
      description: Contains details of an error that was encountered.
      properties:
        code:
          type: string
          description: Identifier representing the type of error that occurred.
        description:
          type: string
          description: Description of the error.
    individual-name:
      title: individual-name
      type: object
      description: "Individual's full name."
      properties:
        first:
          type: string
          description: First name.
        last:
          type: string
          description: Last Name.
        middle:
          type: string
          description: Middle Name.
      required:
        - first
        - last
    payment:
      title: payment
      type: object
      description: Payment information.
      properties:
        id:
          type: integer
          description: Unique identifier of the payment transaction.
        status:
          type: string
          enum:
            - CREATED
            - COMPLETED
            - TRANSACTION_FAILED
          description: Status of the payment.
        method:
          type: string
          enum:
            - CC
          description: Method of Payment.
    address:
      title: address
      type: object
      properties:
        street:
          type: string
          description: 'Street address and name. '
        city:
          type: string
          description: 'City, Town, or Village.'
        region:
          type: string
          description: 'For Canada or USA, 2 character region code.'
          minLength: 2
          maxLength: 2
        country:
          type: string
          minLength: 2
          maxLength: 2
          description: 2 Character ISO 3166-1 Alpha-2 Country Code.
        postalCode:
          type: string
          description: 'Postal Code in A1A 1A1 format for Canada, or zip code for US addresses.'
        streetAdditional:
          type: string
          description: Additional address field.
      required:
        - street
        - city
        - country
        - postalCode
      description: Capture address information for an entity.
    draft:
      title: draft
      type: object
      description: Used to store a draft financing-statement or amendment for later submission.
      x-examples:
        Example Financing Statement Draft:
          id: '12345'
          type: FINANCING_STATEMENT
          content:
            type: SECURITY_AGREEMENT
            registeringParty: []
            securedParties: []
            debtors:
              - businessName: My Company Inc
                address:
                  street: 721 Debtor Ave
                  city: Victoria
                  region: BC
                  country: CA
                  postalCode: A1A 1A1
                birthdate: '1990-06-15'
            vehicleCollateral:
              - type: MOTOR_VEHICLE
                serial: WDBKK49F81F234840
                year: 2001
                make: Mercedes-Benz
                model: SLK-Class Kompressor
            generalCollateral: []
            lifeYears: 5
      properties:
        id:
          type: string
          description: 'The identifier of the draft registration, used in the URL to perform operations.'
        type:
          type: string
          description: The type content stored in the draft.
          enum:
            - AMENDMENT
            - FINANCING_STATEMENT
        content:
          type: object
          description: 'A schema-less object containing the JSON for the submission. This field does not need to be a valid representation for the type of submission, but best practice is that it matches the schema for the type being submitted.'
      required:
        - type
        - content
    financing-statement-event:
      title: financing-statement
      type: object
      description: 'Details of the Financing Statement on file, or to be filed.'
      properties:
        registrationNumber:
          type: string
        registrationDateTime:
          type: string
          format: date-time
          description: The date when the registration was successfully created.
        detailsAdded:
          $ref: '#/components/schemas/financing-statement'
        detailsRemoved:
          $ref: '#/components/schemas/financing-statement'
        payment:
          $ref: '#/components/schemas/payment'
        type:
          type: string
          description: 'An enumerable type describing the type of transaction that took place. Some values are defined, but the full list of enumerable values is TBD. Not all events require a value.'
          enum:
            - REGISTRATION
            - DEBTOR_TRANSFER
            - RENEWAL
      required:
        - detailsAdded
  securitySchemes:
    JWT:
      type: http
      scheme: bearer
tags:
  - name: Draft
  - name: Financing Statement
  - name: Search
